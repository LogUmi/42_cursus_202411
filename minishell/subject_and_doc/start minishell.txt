ðŸ”¥ FonctionnalitÃ©s Ã  implÃ©menter dans Minishell
Voici les principales fonctionnalitÃ©s Ã  prendre en compte :

1ï¸âƒ£ Lecture et exÃ©cution de commandes
Lâ€™utilisateur entre une commande (ex: ls -l).
Minishell doit lâ€™interprÃ©ter et lâ€™exÃ©cuter.
Utilisation de fork() et execve() pour lancer les programmes externes.
2ï¸âƒ£ Gestion des chemins (PATH)
Minishell doit rechercher les exÃ©cutables dans les rÃ©pertoires listÃ©s dans la variable dâ€™environnement $PATH.
Exemple : ls â†’ /bin/ls.
3ï¸âƒ£ Commandes intÃ©grÃ©es (builtins)
Minishell doit implÃ©menter certaines commandes internes sans utiliser execve() :

echo (avec -n)
cd (changement de rÃ©pertoire)
pwd (affichage du rÃ©pertoire courant)
export (ajouter/modifier une variable dâ€™environnement)
unset (supprimer une variable dâ€™environnement)
env (afficher les variables dâ€™environnement)
exit (quitter le shell)
4ï¸âƒ£ Gestion des opÃ©rateurs (|, >, <)
| : ExÃ©cuter une commande et envoyer la sortie comme entrÃ©e de la suivante (pipe).
> : Rediriger la sortie vers un fichier (Ã©crasement).
>> : Rediriger la sortie vers un fichier (ajout en fin).
< : Lire lâ€™entrÃ©e dâ€™un fichier.
5ï¸âƒ£ Gestion des signaux (CTRL+C, CTRL+D, CTRL+\)
CTRL+C : Interrompt le processus en cours (SIGINT).
CTRL+D : Ferme le shell si aucune commande nâ€™est en cours.
CTRL+\ : IgnorÃ© ou agit selon les besoins.
6ï¸âƒ£ Gestion des variables dâ€™environnement
Utilisation des variables comme $HOME, $USER, etc.
Expansion des variables dans les commandes (echo $HOME doit afficher /home/user).
7ï¸âƒ£ Gestion des guillemets (", ')
' (simple quote) : Tout est littÃ©ral, pas dâ€™expansion.
" (double quote) : Expansion des variables et interprÃ©tation des mÃ©tacaractÃ¨res.
âš™ï¸ Quelques fonctions systÃ¨me utiles
Fonction	RÃ´le
fork()	CrÃ©er un nouveau processus.
execve()	ExÃ©cuter un programme externe.
wait() / waitpid()	Attendre la fin d'un processus fils.
pipe()	CrÃ©er un canal de communication entre deux processus.
dup2()	Rediriger lâ€™entrÃ©e/sortie standard.
signal() / sigaction()	GÃ©rer les signaux (SIGINT, SIGQUIT, etc.).
getenv() / setenv() / unsetenv()	GÃ©rer les variables dâ€™environnement.
ðŸ— Architecture typique d'un Minishell
ðŸ“‚ Organisation des fichiers
less
Copier
Modifier
minishell/
â”‚â”€â”€ src/
â”‚   â”œâ”€â”€ main.c         (Boucle principale)
â”‚   â”œâ”€â”€ parser.c       (Analyse des commandes)
â”‚   â”œâ”€â”€ executor.c     (ExÃ©cution des commandes)
â”‚   â”œâ”€â”€ builtins.c     (Commandes internes)
â”‚   â”œâ”€â”€ signals.c      (Gestion des signaux)
â”‚   â”œâ”€â”€ redirections.c (Gestion des `>` et `<`)
â”‚   â”œâ”€â”€ pipes.c        (Gestion des pipes `|`)
â”‚â”€â”€ include/
â”‚   â”œâ”€â”€ minishell.h    (DÃ©finitions et prototypes)
â”‚â”€â”€ Makefile
â”‚â”€â”€ README.md
âœ… Exemple de boucle principale (simplifiÃ©e)
c
Copier
Modifier
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#define BUFFER_SIZE 1024

int main(void) {
    char input[BUFFER_SIZE];

    while (1) {
        printf("minishell> ");
        if (fgets(input, BUFFER_SIZE, stdin) == NULL) {
            printf("\nBye!\n");
            break;
        }

        input[strcspn(input, "\n")] = 0;  // Supprime le '\n'

        if (strcmp(input, "exit") == 0)
            break;

        system(input); // âš ï¸ Remplacer par `execve()` plus tard
    }

    return 0;
}
ðŸ›‘ Ce code utilise system(), qui est interdit dans un vrai Minishell. On utilisera execve() Ã  la place !

ðŸŽ¯ DifficultÃ©s rencontrÃ©es dans Minishell
Gestion des pipes (|) : Rediriger la sortie dâ€™un processus dans lâ€™entrÃ©e dâ€™un autre.
Expansion des variables ($HOME, $?) : InterprÃ©ter correctement les variables.
Redirections (> <) : Bien gÃ©rer les fichiers en entrÃ©e/sortie.
Gestion des signaux : EmpÃªcher CTRL+C de fermer le shell tout en interrompant les commandes exÃ©cutÃ©es.
ðŸŽ© DiffÃ©rences entre Minishell et Bash
FonctionnalitÃ©	Minishell	Bash
ExÃ©cution de commandes	âœ…	âœ…
Commandes internes (cd, echo, ...)	âœ…	âœ…
Pipes (`	`)	âœ…
Redirections (>, <)	âœ…	âœ…
Variables dâ€™environnement	âœ…	âœ…
Gestion avancÃ©e (&&, `		, ;`)
Historique des commandes	âŒ	âœ…
Expansions avancÃ©es (*, {})	âŒ	âœ…
